
# Don't allow acess to any *.sqlite files in directory tree
<FilesMatch "\.(sqlite)$">
 Order allow,deny
 Deny from all
</FilesMatch>

# Doing CGI, but could also hook in other ways...
Options +ExecCGI
AddHandler cgi-script .py

# Force use of https
RewriteEngine on
RewriteCond %{HTTPS} off
RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI}

# Rewrite simple urls to submit to code.py
# (as proxy so not apparent to user)
# Conditions below are for statics that should not be rewriten to code.py
RewriteEngine on
RewriteBase /icanhelp/
RewriteCond %{HTTPS} on
RewriteCond %{REQUEST_URI} !^/icons
RewriteCond %{REQUEST_URI} !^/static
RewriteCond %{REQUEST_URI} !^/icanhelp/static
RewriteCond %{REQUEST_URI} !^/favicon.ico$
RewriteCond %{REQUEST_URI} !^/(.*)code.py
RewriteRule ^(.*)$ code.py/$1 [PT]


